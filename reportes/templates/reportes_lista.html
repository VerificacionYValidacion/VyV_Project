<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reportes</title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript">
    function prom(){
        $("#myModal").modal('show');
    }

</script>
</head>
<body>
<div class="contact-form">
    <h2>Reportes</h2>
    <table class="table table-striped table-hover">
        <thead>
        <tr>
            <th>Sector</th>
            <th>Dirección</th>
            <th>Categoría</th>
            <th>Evidencia</th>
            <th>Descripción</th>
            <th>Nombre usuario</th>
            <th>Estado</th>
        </tr>
        </thead>
        <tbody>
        {% for reporte in reportes %}
            <tr>
                <td>{{ reporte.sector_reporte.title }}</td>
                <td>{{ reporte.direccion_reporte }}</td>
                <td>
                    {% if reporte.categoria_reporte == "DANOS_EN_ESPACIOS_PUBLICOS" %}
                        Daños en espacios públicos
                    {% elif reporte.categoria_reporte == "DANOS_EN_LA_VIA_PUBLICA" %}
                        Daños en la vía pública
                    {% elif reporte.categoria_reporte == "ANIMALES_ABANDONADOS_EN_LA_VIA_PUBLICA" %}
                        Animales abandonados
                    {% elif reporte.categoria_reporte == "BASURA_EN_LUGARES_INCORRECTOS" %}
                        Basura en lugares incorrectos
                    {% endif %}
                </td>
                <td>
                    <a href="{{ reporte.evidencia_reporte }}" class="btn btn-primary btn-sm"
                       target="_blank">Visualizar</a>
                </td>
                <td>{{ reporte.descripcion_reporte }}</td>
                <td>{{ reporte.usuario_reporte.nombre_usuario }} {{ reporte.usuario_reporte.apellido_usuario }}</td>
                <td>
                    <a href='{% url 'actualizar_reporte' reporte.id %}' class="btn
                           {% if reporte.estado_reporte == "Pendiente" %}
                            btn-outline-danger
                            {% elif reporte.estado_reporte == "En proceso" %}
                            btn-outline-primary
                            {% elif reporte.estado_reporte == "Finalizado" %}
                            btn-outline-success
                           {% endif %}"
                    >
                        {{ reporte.estado_reporte }}
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"
                        onclick="closed()">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalLabel">
                                         Título modal
                </h4>
                               Contenido modal
            </div>
            <!-- /.modal-content -->
        </div>
        <!-- /.modal -->
    </div>
</div>

<a href="#" class="btn btn-primary glyphicon glyphicon-search" data-toggle="tooltip" onclick="prom()"
   data-placement="top"
   title = "Usar cuadro modal"> </a>
</body>
</html>